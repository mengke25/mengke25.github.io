citycode <- function(df_name, city_variable) {
  # 获取数据框
  df <- get(df_name)
  
  # 创建新的citycode变量并初始化为0
  df$citycode <- 0
  
  # 使用条件语句根据城市名变量更新citycode
  df$citycode[grep("北京", df[[city_variable]], ignore.case = TRUE)] <- 110000
  df$citycode[grep("天津", df[[city_variable]], ignore.case = TRUE)] <- 120000
  df$citycode[grep("石家庄", df[[city_variable]], ignore.case = TRUE)] <- 130100
  df$citycode[grep("唐山", df[[city_variable]], ignore.case = TRUE)] <- 130200
  df$citycode[grep("秦皇岛", df[[city_variable]], ignore.case = TRUE)] <- 130300
  df$citycode[grep("邯郸", df[[city_variable]], ignore.case = TRUE)] <- 130400
  df$citycode[grep("邢台", df[[city_variable]], ignore.case = TRUE)] <- 130500
  df$citycode[grep("保定", df[[city_variable]], ignore.case = TRUE)] <- 130600
  df$citycode[grep("张家口", df[[city_variable]], ignore.case = TRUE)] <- 130700
  df$citycode[grep("承德", df[[city_variable]], ignore.case = TRUE)] <- 130800
  df$citycode[grep("沧州", df[[city_variable]], ignore.case = TRUE)] <- 130900
  df$citycode[grep("廊坊", df[[city_variable]], ignore.case = TRUE)] <- 131000
  df$citycode[grep("衡水", df[[city_variable]], ignore.case = TRUE)] <- 131100
  df$citycode[grep("太原", df[[city_variable]], ignore.case = TRUE)] <- 140100
  df$citycode[grep("大同", df[[city_variable]], ignore.case = TRUE)] <- 140200
  df$citycode[grep("阳泉", df[[city_variable]], ignore.case = TRUE)] <- 140300
  df$citycode[grep("长治", df[[city_variable]], ignore.case = TRUE)] <- 140400
  df$citycode[grep("晋城", df[[city_variable]], ignore.case = TRUE)] <- 140500
  df$citycode[grep("朔州", df[[city_variable]], ignore.case = TRUE)] <- 140600
  df$citycode[grep("晋中", df[[city_variable]], ignore.case = TRUE)] <- 140700
  df$citycode[grep("运城", df[[city_variable]], ignore.case = TRUE)] <- 140800
  df$citycode[grep("忻州", df[[city_variable]], ignore.case = TRUE)] <- 140900
  df$citycode[grep("临汾", df[[city_variable]], ignore.case = TRUE)] <- 141000
  df$citycode[grep("吕梁", df[[city_variable]], ignore.case = TRUE)] <- 141100
  df$citycode[grep("呼和浩", df[[city_variable]], ignore.case = TRUE)] <- 150100
  df$citycode[grep("包头", df[[city_variable]], ignore.case = TRUE)] <- 150200
  df$citycode[grep("乌海", df[[city_variable]], ignore.case = TRUE)] <- 150300
  df$citycode[grep("赤峰", df[[city_variable]], ignore.case = TRUE)] <- 150400
  df$citycode[grep("通辽", df[[city_variable]], ignore.case = TRUE)] <- 150500
  df$citycode[grep("鄂尔多", df[[city_variable]], ignore.case = TRUE)] <- 150600
  df$citycode[grep("呼伦贝", df[[city_variable]], ignore.case = TRUE)] <- 150700
  df$citycode[grep("巴彦淖", df[[city_variable]], ignore.case = TRUE)] <- 150800
  df$citycode[grep("巴音郭", df[[city_variable]], ignore.case = TRUE)] <- 652800
  df$citycode[grep("乌兰察", df[[city_variable]], ignore.case = TRUE)] <- 150900
  df$citycode[grep("沈阳", df[[city_variable]], ignore.case = TRUE)] <- 210100
  df$citycode[grep("大连", df[[city_variable]], ignore.case = TRUE)] <- 210200
  df$citycode[grep("鞍山", df[[city_variable]], ignore.case = TRUE)] <- 210300
  df$citycode[grep("抚顺", df[[city_variable]], ignore.case = TRUE)] <- 210400
  df$citycode[grep("本溪", df[[city_variable]], ignore.case = TRUE)] <- 210500
  df$citycode[grep("丹东", df[[city_variable]], ignore.case = TRUE)] <- 210600
  df$citycode[grep("锦州", df[[city_variable]], ignore.case = TRUE)] <- 210700
  df$citycode[grep("营口", df[[city_variable]], ignore.case = TRUE)] <- 210800
  df$citycode[grep("阜新", df[[city_variable]], ignore.case = TRUE)] <- 210900
  df$citycode[grep("辽阳", df[[city_variable]], ignore.case = TRUE)] <- 211000
  df$citycode[grep("盘锦", df[[city_variable]], ignore.case = TRUE)] <- 211100
  df$citycode[grep("铁岭", df[[city_variable]], ignore.case = TRUE)] <- 211200
  df$citycode[grep("朝阳", df[[city_variable]], ignore.case = TRUE)] <- 211300
  df$citycode[grep("葫芦岛", df[[city_variable]], ignore.case = TRUE)] <- 211400
  df$citycode[grep("长春", df[[city_variable]], ignore.case = TRUE)] <- 220100
  df$citycode[grep("吉林", df[[city_variable]], ignore.case = TRUE)] <- 220200
  df$citycode[grep("四平", df[[city_variable]], ignore.case = TRUE)] <- 220300
  df$citycode[grep("辽源", df[[city_variable]], ignore.case = TRUE)] <- 220400
  df$citycode[grep("通化", df[[city_variable]], ignore.case = TRUE)] <- 220500
  df$citycode[grep("白山", df[[city_variable]], ignore.case = TRUE)] <- 220600
  df$citycode[grep("松原", df[[city_variable]], ignore.case = TRUE)] <- 220700
  df$citycode[grep("白城", df[[city_variable]], ignore.case = TRUE)] <- 220800
  df$citycode[grep("哈尔滨", df[[city_variable]], ignore.case = TRUE)] <- 230100
  df$citycode[grep("齐齐哈", df[[city_variable]], ignore.case = TRUE)] <- 230200
  df$citycode[grep("鸡西", df[[city_variable]], ignore.case = TRUE)] <- 230300
  df$citycode[grep("鹤岗", df[[city_variable]], ignore.case = TRUE)] <- 230400
  df$citycode[grep("双鸭山", df[[city_variable]], ignore.case = TRUE)] <- 230500
  df$citycode[grep("大庆", df[[city_variable]], ignore.case = TRUE)] <- 230600
  df$citycode[grep("伊春", df[[city_variable]], ignore.case = TRUE)] <- 230700
  df$citycode[grep("佳木斯", df[[city_variable]], ignore.case = TRUE)] <- 230800
  df$citycode[grep("七台河", df[[city_variable]], ignore.case = TRUE)] <- 230900
  df$citycode[grep("牡丹江", df[[city_variable]], ignore.case = TRUE)] <- 231000
  df$citycode[grep("黑河", df[[city_variable]], ignore.case = TRUE)] <- 231100
  df$citycode[grep("绥化", df[[city_variable]], ignore.case = TRUE)] <- 231200
  df$citycode[grep("上海", df[[city_variable]], ignore.case = TRUE)] <- 310000
  df$citycode[grep("南京", df[[city_variable]], ignore.case = TRUE)] <- 320100
  df$citycode[grep("无锡", df[[city_variable]], ignore.case = TRUE)] <- 320200
  df$citycode[grep("徐州", df[[city_variable]], ignore.case = TRUE)] <- 320300
  df$citycode[grep("常州", df[[city_variable]], ignore.case = TRUE)] <- 320400
  df$citycode[grep("苏州", df[[city_variable]], ignore.case = TRUE)] <- 320500
  df$citycode[grep("南通", df[[city_variable]], ignore.case = TRUE)] <- 320600
  df$citycode[grep("连云港", df[[city_variable]], ignore.case = TRUE)] <- 320700
  df$citycode[grep("淮安", df[[city_variable]], ignore.case = TRUE)] <- 320800
  df$citycode[grep("盐城", df[[city_variable]], ignore.case = TRUE)] <- 320900
  df$citycode[grep("扬州", df[[city_variable]], ignore.case = TRUE)] <- 321000
  df$citycode[grep("镇江", df[[city_variable]], ignore.case = TRUE)] <- 321100
  df$citycode[grep("泰州", df[[city_variable]], ignore.case = TRUE)] <- 321200
  df$citycode[grep("宿迁", df[[city_variable]], ignore.case = TRUE)] <- 321300
  df$citycode[grep("杭州", df[[city_variable]], ignore.case = TRUE)] <- 330100
  df$citycode[grep("宁波", df[[city_variable]], ignore.case = TRUE)] <- 330200
  df$citycode[grep("温州", df[[city_variable]], ignore.case = TRUE)] <- 330300
  df$citycode[grep("嘉兴", df[[city_variable]], ignore.case = TRUE)] <- 330400
  df$citycode[grep("湖州", df[[city_variable]], ignore.case = TRUE)] <- 330500
  df$citycode[grep("绍兴", df[[city_variable]], ignore.case = TRUE)] <- 330600
  df$citycode[grep("金华", df[[city_variable]], ignore.case = TRUE)] <- 330700
  df$citycode[grep("衢州", df[[city_variable]], ignore.case = TRUE)] <- 330800
  df$citycode[grep("舟山", df[[city_variable]], ignore.case = TRUE)] <- 330900
  df$citycode[grep("台州", df[[city_variable]], ignore.case = TRUE)] <- 331000
  df$citycode[grep("丽水", df[[city_variable]], ignore.case = TRUE)] <- 331100
  df$citycode[grep("合肥", df[[city_variable]], ignore.case = TRUE)] <- 340100
  df$citycode[grep("芜湖", df[[city_variable]], ignore.case = TRUE)] <- 340200
  df$citycode[grep("蚌埠", df[[city_variable]], ignore.case = TRUE)] <- 340300
  df$citycode[grep("淮南", df[[city_variable]], ignore.case = TRUE)] <- 340400
  df$citycode[grep("马鞍山", df[[city_variable]], ignore.case = TRUE)] <- 340500
  df$citycode[grep("淮北", df[[city_variable]], ignore.case = TRUE)] <- 340600
  df$citycode[grep("铜陵", df[[city_variable]], ignore.case = TRUE)] <- 340700
  df$citycode[grep("安庆", df[[city_variable]], ignore.case = TRUE)] <- 340800
  df$citycode[grep("黄山", df[[city_variable]], ignore.case = TRUE)] <- 341000
  df$citycode[grep("滁州", df[[city_variable]], ignore.case = TRUE)] <- 341100
  df$citycode[grep("阜阳", df[[city_variable]], ignore.case = TRUE)] <- 341200
  df$citycode[grep("宿州", df[[city_variable]], ignore.case = TRUE)] <- 341300
  df$citycode[grep("巢湖", df[[city_variable]], ignore.case = TRUE)] <- 341400
  df$citycode[grep("六安", df[[city_variable]], ignore.case = TRUE)] <- 341500
  df$citycode[grep("亳州", df[[city_variable]], ignore.case = TRUE)] <- 341600
  df$citycode[grep("池州", df[[city_variable]], ignore.case = TRUE)] <- 341700
  df$citycode[grep("宣城", df[[city_variable]], ignore.case = TRUE)] <- 341800
  df$citycode[grep("福州", df[[city_variable]], ignore.case = TRUE)] <- 350100
  df$citycode[grep("厦门", df[[city_variable]], ignore.case = TRUE)] <- 350200
  df$citycode[grep("莆田", df[[city_variable]], ignore.case = TRUE)] <- 350300
  df$citycode[grep("三明", df[[city_variable]], ignore.case = TRUE)] <- 350400
  df$citycode[grep("泉州", df[[city_variable]], ignore.case = TRUE)] <- 350500
  df$citycode[grep("漳州", df[[city_variable]], ignore.case = TRUE)] <- 350600
  df$citycode[grep("南平", df[[city_variable]], ignore.case = TRUE)] <- 350700
  df$citycode[grep("龙岩", df[[city_variable]], ignore.case = TRUE)] <- 350800
  df$citycode[grep("宁德", df[[city_variable]], ignore.case = TRUE)] <- 350900
  df$citycode[grep("南昌", df[[city_variable]], ignore.case = TRUE)] <- 360100
  df$citycode[grep("景德镇", df[[city_variable]], ignore.case = TRUE)] <- 360200
  df$citycode[grep("萍乡", df[[city_variable]], ignore.case = TRUE)] <- 360300
  df$citycode[grep("九江", df[[city_variable]], ignore.case = TRUE)] <- 360400
  df$citycode[grep("新余", df[[city_variable]], ignore.case = TRUE)] <- 360500
  df$citycode[grep("鹰潭", df[[city_variable]], ignore.case = TRUE)] <- 360600
  df$citycode[grep("赣州", df[[city_variable]], ignore.case = TRUE)] <- 360700
  df$citycode[grep("吉安", df[[city_variable]], ignore.case = TRUE)] <- 360800
  df$citycode[grep("宜春", df[[city_variable]], ignore.case = TRUE)] <- 360900
  df$citycode[grep("抚州", df[[city_variable]], ignore.case = TRUE)] <- 361000
  df$citycode[grep("上饶", df[[city_variable]], ignore.case = TRUE)] <- 361100
  df$citycode[grep("济南", df[[city_variable]], ignore.case = TRUE)] <- 370100
  df$citycode[grep("青岛", df[[city_variable]], ignore.case = TRUE)] <- 370200
  df$citycode[grep("淄博", df[[city_variable]], ignore.case = TRUE)] <- 370300
  df$citycode[grep("枣庄", df[[city_variable]], ignore.case = TRUE)] <- 370400
  df$citycode[grep("东营", df[[city_variable]], ignore.case = TRUE)] <- 370500
  df$citycode[grep("烟台", df[[city_variable]], ignore.case = TRUE)] <- 370600
  df$citycode[grep("潍坊", df[[city_variable]], ignore.case = TRUE)] <- 370700
  df$citycode[grep("济宁", df[[city_variable]], ignore.case = TRUE)] <- 370800
  df$citycode[grep("泰安", df[[city_variable]], ignore.case = TRUE)] <- 370900
  df$citycode[grep("威海", df[[city_variable]], ignore.case = TRUE)] <- 371000
  df$citycode[grep("日照", df[[city_variable]], ignore.case = TRUE)] <- 371100
  df$citycode[grep("莱芜", df[[city_variable]], ignore.case = TRUE)] <- 371200
  df$citycode[grep("临沂", df[[city_variable]], ignore.case = TRUE)] <- 371300
  df$citycode[grep("德州", df[[city_variable]], ignore.case = TRUE)] <- 371400
  df$citycode[grep("聊城", df[[city_variable]], ignore.case = TRUE)] <- 371500
  df$citycode[grep("滨州", df[[city_variable]], ignore.case = TRUE)] <- 371600
  df$citycode[grep("菏泽", df[[city_variable]], ignore.case = TRUE)] <- 371700
  df$citycode[grep("郑州", df[[city_variable]], ignore.case = TRUE)] <- 410100
  df$citycode[grep("开封", df[[city_variable]], ignore.case = TRUE)] <- 410200
  df$citycode[grep("洛阳", df[[city_variable]], ignore.case = TRUE)] <- 410300
  df$citycode[grep("平顶山", df[[city_variable]], ignore.case = TRUE)] <- 410400
  df$citycode[grep("安阳", df[[city_variable]], ignore.case = TRUE)] <- 410500
  df$citycode[grep("鹤壁", df[[city_variable]], ignore.case = TRUE)] <- 410600
  df$citycode[grep("新乡", df[[city_variable]], ignore.case = TRUE)] <- 410700
  df$citycode[grep("焦作", df[[city_variable]], ignore.case = TRUE)] <- 410800
  df$citycode[grep("濮阳", df[[city_variable]], ignore.case = TRUE)] <- 410900
  df$citycode[grep("许昌", df[[city_variable]], ignore.case = TRUE)] <- 411000
  df$citycode[grep("漯河", df[[city_variable]], ignore.case = TRUE)] <- 411100
  df$citycode[grep("三门峡", df[[city_variable]], ignore.case = TRUE)] <- 411200
  df$citycode[grep("南阳", df[[city_variable]], ignore.case = TRUE)] <- 411300
  df$citycode[grep("商丘", df[[city_variable]], ignore.case = TRUE)] <- 411400
  df$citycode[grep("信阳", df[[city_variable]], ignore.case = TRUE)] <- 411500
  df$citycode[grep("周口", df[[city_variable]], ignore.case = TRUE)] <- 411600
  df$citycode[grep("驻马店", df[[city_variable]], ignore.case = TRUE)] <- 411700
  df$citycode[grep("武汉", df[[city_variable]], ignore.case = TRUE)] <- 420100
  df$citycode[grep("黄石", df[[city_variable]], ignore.case = TRUE)] <- 420200
  df$citycode[grep("十堰", df[[city_variable]], ignore.case = TRUE)] <- 420300
  df$citycode[grep("宜昌", df[[city_variable]], ignore.case = TRUE)] <- 420500
  df$citycode[grep("襄阳", df[[city_variable]], ignore.case = TRUE)] <- 420600
  df$citycode[grep("鄂州", df[[city_variable]], ignore.case = TRUE)] <- 420700
  df$citycode[grep("荆门", df[[city_variable]], ignore.case = TRUE)] <- 420800
  df$citycode[grep("孝感", df[[city_variable]], ignore.case = TRUE)] <- 420900
  df$citycode[grep("荆州", df[[city_variable]], ignore.case = TRUE)] <- 421000
  df$citycode[grep("黄冈", df[[city_variable]], ignore.case = TRUE)] <- 421100
  df$citycode[grep("咸宁", df[[city_variable]], ignore.case = TRUE)] <- 421200
  df$citycode[grep("随州", df[[city_variable]], ignore.case = TRUE)] <- 421300
  df$citycode[grep("长沙", df[[city_variable]], ignore.case = TRUE)] <- 430100
  df$citycode[grep("株洲", df[[city_variable]], ignore.case = TRUE)] <- 430200
  df$citycode[grep("湘潭", df[[city_variable]], ignore.case = TRUE)] <- 430300
  df$citycode[grep("衡阳", df[[city_variable]], ignore.case = TRUE)] <- 430400
  df$citycode[grep("邵阳", df[[city_variable]], ignore.case = TRUE)] <- 430500
  df$citycode[grep("岳阳", df[[city_variable]], ignore.case = TRUE)] <- 430600
  df$citycode[grep("常德", df[[city_variable]], ignore.case = TRUE)] <- 430700
  df$citycode[grep("张家界", df[[city_variable]], ignore.case = TRUE)] <- 430800
  df$citycode[grep("益阳", df[[city_variable]], ignore.case = TRUE)] <- 430900
  df$citycode[grep("郴州", df[[city_variable]], ignore.case = TRUE)] <- 431000
  df$citycode[grep("永州", df[[city_variable]], ignore.case = TRUE)] <- 431100
  df$citycode[grep("怀化", df[[city_variable]], ignore.case = TRUE)] <- 431200
  df$citycode[grep("娄底", df[[city_variable]], ignore.case = TRUE)] <- 431300
  df$citycode[grep("广州", df[[city_variable]], ignore.case = TRUE)] <- 440100
  df$citycode[grep("韶关", df[[city_variable]], ignore.case = TRUE)] <- 440200
  df$citycode[grep("深圳", df[[city_variable]], ignore.case = TRUE)] <- 440300
  df$citycode[grep("珠海", df[[city_variable]], ignore.case = TRUE)] <- 440400
  df$citycode[grep("汕头", df[[city_variable]], ignore.case = TRUE)] <- 440500
  df$citycode[grep("佛山", df[[city_variable]], ignore.case = TRUE)] <- 440600
  df$citycode[grep("江门", df[[city_variable]], ignore.case = TRUE)] <- 440700
  df$citycode[grep("湛江", df[[city_variable]], ignore.case = TRUE)] <- 440800
  df$citycode[grep("茂名", df[[city_variable]], ignore.case = TRUE)] <- 440900
  df$citycode[grep("肇庆", df[[city_variable]], ignore.case = TRUE)] <- 441200
  df$citycode[grep("惠州", df[[city_variable]], ignore.case = TRUE)] <- 441300
  df$citycode[grep("梅州", df[[city_variable]], ignore.case = TRUE)] <- 441400
  df$citycode[grep("汕尾", df[[city_variable]], ignore.case = TRUE)] <- 441500
  df$citycode[grep("河源", df[[city_variable]], ignore.case = TRUE)] <- 441600
  df$citycode[grep("阳江", df[[city_variable]], ignore.case = TRUE)] <- 441700
  df$citycode[grep("清远", df[[city_variable]], ignore.case = TRUE)] <- 441800
  df$citycode[grep("东莞", df[[city_variable]], ignore.case = TRUE)] <- 441900
  df$citycode[grep("中山", df[[city_variable]], ignore.case = TRUE)] <- 442000
  df$citycode[grep("潮州", df[[city_variable]], ignore.case = TRUE)] <- 445100
  df$citycode[grep("揭阳", df[[city_variable]], ignore.case = TRUE)] <- 445200
  df$citycode[grep("云浮", df[[city_variable]], ignore.case = TRUE)] <- 445300
  df$citycode[grep("南宁", df[[city_variable]], ignore.case = TRUE)] <- 450100
  df$citycode[grep("柳州", df[[city_variable]], ignore.case = TRUE)] <- 450200
  df$citycode[grep("桂林", df[[city_variable]], ignore.case = TRUE)] <- 450300
  df$citycode[grep("梧州", df[[city_variable]], ignore.case = TRUE)] <- 450400
  df$citycode[grep("北海", df[[city_variable]], ignore.case = TRUE)] <- 450500
  df$citycode[grep("防城港", df[[city_variable]], ignore.case = TRUE)] <- 450600
  df$citycode[grep("钦州", df[[city_variable]], ignore.case = TRUE)] <- 450700
  df$citycode[grep("贵港", df[[city_variable]], ignore.case = TRUE)] <- 450800
  df$citycode[grep("玉林", df[[city_variable]], ignore.case = TRUE)] <- 450900
  df$citycode[grep("百色", df[[city_variable]], ignore.case = TRUE)] <- 451000
  df$citycode[grep("贺州", df[[city_variable]], ignore.case = TRUE)] <- 451100
  df$citycode[grep("河池", df[[city_variable]], ignore.case = TRUE)] <- 451200
  df$citycode[grep("来宾", df[[city_variable]], ignore.case = TRUE)] <- 451300
  df$citycode[grep("崇左", df[[city_variable]], ignore.case = TRUE)] <- 451400
  df$citycode[grep("海口", df[[city_variable]], ignore.case = TRUE)] <- 460100
  df$citycode[grep("三亚", df[[city_variable]], ignore.case = TRUE)] <- 460200
  df$citycode[grep("三沙", df[[city_variable]], ignore.case = TRUE)] <- 460300
  df$citycode[grep("儋州", df[[city_variable]], ignore.case = TRUE)] <- 460400
  df$citycode[grep("重庆", df[[city_variable]], ignore.case = TRUE)] <- 500000
  df$citycode[grep("成都", df[[city_variable]], ignore.case = TRUE)] <- 510100
  df$citycode[grep("自贡", df[[city_variable]], ignore.case = TRUE)] <- 510300
  df$citycode[grep("攀枝花", df[[city_variable]], ignore.case = TRUE)] <- 510400
  df$citycode[grep("泸州", df[[city_variable]], ignore.case = TRUE)] <- 510500
  df$citycode[grep("德阳", df[[city_variable]], ignore.case = TRUE)] <- 510600
  df$citycode[grep("绵阳", df[[city_variable]], ignore.case = TRUE)] <- 510700
  df$citycode[grep("广元", df[[city_variable]], ignore.case = TRUE)] <- 510800
  df$citycode[grep("遂宁", df[[city_variable]], ignore.case = TRUE)] <- 510900
  df$citycode[grep("内江", df[[city_variable]], ignore.case = TRUE)] <- 511000
  df$citycode[grep("乐山", df[[city_variable]], ignore.case = TRUE)] <- 511100
  df$citycode[grep("南充", df[[city_variable]], ignore.case = TRUE)] <- 511300
  df$citycode[grep("眉山", df[[city_variable]], ignore.case = TRUE)] <- 511400
  df$citycode[grep("宜宾", df[[city_variable]], ignore.case = TRUE)] <- 511500
  df$citycode[grep("广安", df[[city_variable]], ignore.case = TRUE)] <- 511600
  df$citycode[grep("达州", df[[city_variable]], ignore.case = TRUE)] <- 511700
  df$citycode[grep("雅安", df[[city_variable]], ignore.case = TRUE)] <- 511800
  df$citycode[grep("巴中", df[[city_variable]], ignore.case = TRUE)] <- 511900
  df$citycode[grep("资阳", df[[city_variable]], ignore.case = TRUE)] <- 512000
  df$citycode[grep("贵阳", df[[city_variable]], ignore.case = TRUE)] <- 520100
  df$citycode[grep("六盘水", df[[city_variable]], ignore.case = TRUE)] <- 520200
  df$citycode[grep("遵义", df[[city_variable]], ignore.case = TRUE)] <- 520300
  df$citycode[grep("安顺", df[[city_variable]], ignore.case = TRUE)] <- 520400
  df$citycode[grep("毕节", df[[city_variable]], ignore.case = TRUE)] <- 520500
  df$citycode[grep("铜仁", df[[city_variable]], ignore.case = TRUE)] <- 520600
  df$citycode[grep("昆明", df[[city_variable]], ignore.case = TRUE)] <- 530100
  df$citycode[grep("曲靖", df[[city_variable]], ignore.case = TRUE)] <- 530300
  df$citycode[grep("玉溪", df[[city_variable]], ignore.case = TRUE)] <- 530400
  df$citycode[grep("保山", df[[city_variable]], ignore.case = TRUE)] <- 530500
  df$citycode[grep("昭通", df[[city_variable]], ignore.case = TRUE)] <- 530600
  df$citycode[grep("丽江", df[[city_variable]], ignore.case = TRUE)] <- 530700
  df$citycode[grep("普洱", df[[city_variable]], ignore.case = TRUE)] <- 530800
  df$citycode[grep("临沧", df[[city_variable]], ignore.case = TRUE)] <- 530900
  df$citycode[grep("拉萨", df[[city_variable]], ignore.case = TRUE)] <- 540100
  df$citycode[grep("日喀则", df[[city_variable]], ignore.case = TRUE)] <- 540200
  df$citycode[grep("昌都", df[[city_variable]], ignore.case = TRUE)] <- 540300
  df$citycode[grep("林芝", df[[city_variable]], ignore.case = TRUE)] <- 540400
  df$citycode[grep("山南", df[[city_variable]], ignore.case = TRUE)] <- 540500
  df$citycode[grep("那曲", df[[city_variable]], ignore.case = TRUE)] <- 540600
  df$citycode[grep("西安", df[[city_variable]], ignore.case = TRUE)] <- 610100
  df$citycode[grep("铜川", df[[city_variable]], ignore.case = TRUE)] <- 610200
  df$citycode[grep("宝鸡", df[[city_variable]], ignore.case = TRUE)] <- 610300
  df$citycode[grep("咸阳", df[[city_variable]], ignore.case = TRUE)] <- 610400
  df$citycode[grep("渭南", df[[city_variable]], ignore.case = TRUE)] <- 610500
  df$citycode[grep("延安", df[[city_variable]], ignore.case = TRUE)] <- 610600
  df$citycode[grep("汉中", df[[city_variable]], ignore.case = TRUE)] <- 610700
  df$citycode[grep("榆林", df[[city_variable]], ignore.case = TRUE)] <- 610800
  df$citycode[grep("安康", df[[city_variable]], ignore.case = TRUE)] <- 610900
  df$citycode[grep("商洛", df[[city_variable]], ignore.case = TRUE)] <- 611000
  df$citycode[grep("兰州", df[[city_variable]], ignore.case = TRUE)] <- 620100
  df$citycode[grep("嘉峪关", df[[city_variable]], ignore.case = TRUE)] <- 620200
  df$citycode[grep("金昌", df[[city_variable]], ignore.case = TRUE)] <- 620300
  df$citycode[grep("白银", df[[city_variable]], ignore.case = TRUE)] <- 620400
  df$citycode[grep("天水", df[[city_variable]], ignore.case = TRUE)] <- 620500
  df$citycode[grep("武威", df[[city_variable]], ignore.case = TRUE)] <- 620600
  df$citycode[grep("张掖", df[[city_variable]], ignore.case = TRUE)] <- 620700
  df$citycode[grep("平凉", df[[city_variable]], ignore.case = TRUE)] <- 620800
  df$citycode[grep("酒泉", df[[city_variable]], ignore.case = TRUE)] <- 620900
  df$citycode[grep("庆阳", df[[city_variable]], ignore.case = TRUE)] <- 621000
  df$citycode[grep("定西", df[[city_variable]], ignore.case = TRUE)] <- 621100
  df$citycode[grep("陇南", df[[city_variable]], ignore.case = TRUE)] <- 621200
  df$citycode[grep("西宁", df[[city_variable]], ignore.case = TRUE)] <- 630100
  df$citycode[grep("海东", df[[city_variable]], ignore.case = TRUE)] <- 630200
  df$citycode[grep("海南", df[[city_variable]], ignore.case = TRUE)] <- 632500
  df$citycode[grep("银川", df[[city_variable]], ignore.case = TRUE)] <- 640100
  df$citycode[grep("石嘴山", df[[city_variable]], ignore.case = TRUE)] <- 640200
  df$citycode[grep("吴忠", df[[city_variable]], ignore.case = TRUE)] <- 640300
  df$citycode[grep("固原", df[[city_variable]], ignore.case = TRUE)] <- 640400
  df$citycode[grep("中卫", df[[city_variable]], ignore.case = TRUE)] <- 640500
  df$citycode[grep("乌鲁木", df[[city_variable]], ignore.case = TRUE)] <- 650100
  df$citycode[grep("克拉玛", df[[city_variable]], ignore.case = TRUE)] <- 650200
  df$citycode[grep("吐鲁番", df[[city_variable]], ignore.case = TRUE)] <- 650400
  df$citycode[grep("哈密", df[[city_variable]], ignore.case = TRUE)] <- 650500
  df$citycode[grep("宜城", df[[city_variable]], ignore.case = TRUE)] <- 420684
  df$citycode[grep("喀什", df[[city_variable]], ignore.case = TRUE)] <- 653101
  df$citycode[grep("阿克苏", df[[city_variable]], ignore.case = TRUE)] <- 652900
  df$citycode[grep("楚雄", df[[city_variable]], ignore.case = TRUE)] <- 532300
  df$citycode[grep("大理", df[[city_variable]], ignore.case = TRUE)] <- 532900
  df$citycode[grep("恩施", df[[city_variable]], ignore.case = TRUE)] <- 422800
  df$citycode[grep("锡林郭", df[[city_variable]], ignore.case = TRUE)] <- 152500
  df$citycode[grep("玉树", df[[city_variable]], ignore.case = TRUE)] <- 632700
  df$citycode[grep("阿拉善", df[[city_variable]], ignore.case = TRUE)] <- 152900
  df$citycode[grep("阿勒泰", df[[city_variable]], ignore.case = TRUE)] <- 654301
  df$citycode[grep("昌吉", df[[city_variable]], ignore.case = TRUE)] <- 652301
  df$citycode[grep("临夏", df[[city_variable]], ignore.case = TRUE)] <- 622900
  df$citycode[grep("塔城", df[[city_variable]], ignore.case = TRUE)] <- 654200
  df$citycode[grep("文山", df[[city_variable]], ignore.case = TRUE)] <- 532600
  df$citycode[grep("和田", df[[city_variable]], ignore.case = TRUE)] <- 653201
  df$citycode[grep("大兴安", df[[city_variable]], ignore.case = TRUE)] <- 232700
  df$citycode[grep("延边州", df[[city_variable]], ignore.case = TRUE)] <- 222400
  df$citycode[grep("凉山", df[[city_variable]], ignore.case = TRUE)] <- 513400
  df$citycode[grep("黔西南", df[[city_variable]], ignore.case = TRUE)] <- 522300
  df$citycode[grep("黔南", df[[city_variable]], ignore.case = TRUE)] <- 522700
  df$citycode[grep("西双版", df[[city_variable]], ignore.case = TRUE)] <- 532800
  df$citycode[grep("德宏", df[[city_variable]], ignore.case = TRUE)] <- 533100
  df$citycode[grep("杨凌", df[[city_variable]], ignore.case = TRUE)] <- 610403
  df$citycode[grep("甘南", df[[city_variable]], ignore.case = TRUE)] <- 623000
  df$citycode[grep("海北", df[[city_variable]], ignore.case = TRUE)] <- 632200
  df$citycode[grep("黄南", df[[city_variable]], ignore.case = TRUE)] <- 632500
  df$citycode[grep("海西", df[[city_variable]], ignore.case = TRUE)] <- 632800
  df$citycode[grep("巴音郭楞", df[[city_variable]], ignore.case = TRUE)] <- 652800
  df$citycode[grep("一师", df[[city_variable]], ignore.case = TRUE)] <- 660100
  df$citycode[grep("二师", df[[city_variable]], ignore.case = TRUE)] <- 660200
  df$citycode[grep("三师", df[[city_variable]], ignore.case = TRUE)] <- 660300
  df$citycode[grep("五师", df[[city_variable]], ignore.case = TRUE)] <- 660500
  df$citycode[grep("六师", df[[city_variable]], ignore.case = TRUE)] <- 660600
  df$citycode[grep("七师", df[[city_variable]], ignore.case = TRUE)] <- 660700
  df$citycode[grep("八师", df[[city_variable]], ignore.case = TRUE)] <- 660800
  df$citycode[grep("十师", df[[city_variable]], ignore.case = TRUE)] <- 661000
  df$citycode[grep("工师", df[[city_variable]], ignore.case = TRUE)] <- 661100
  df$citycode[grep("十二师", df[[city_variable]], ignore.case = TRUE)] <- 661200
  df$citycode[grep("十三师", df[[city_variable]], ignore.case = TRUE)] <- 661300
  df$citycode[grep("十四师", df[[city_variable]], ignore.case = TRUE)] <- 661400
  df$citycode[grep("兴安盟", df[[city_variable]], ignore.case = TRUE)] <- 152200
  df$citycode[grep("大兴安岭", df[[city_variable]], ignore.case = TRUE)] <- 232700
  df$citycode[grep("济源市", df[[city_variable]], ignore.case = TRUE)] <- 419001
  df$citycode[grep("神农架", df[[city_variable]], ignore.case = TRUE)] <- 429021
  df$citycode[grep("湘西", df[[city_variable]], ignore.case = TRUE)] <- 433100
  df$citycode[grep("黔东南", df[[city_variable]], ignore.case = TRUE)] <- 522600
  df$citycode[grep("红河", df[[city_variable]], ignore.case = TRUE)] <- 532500
  df$citycode[grep("怒江", df[[city_variable]], ignore.case = TRUE)] <- 533300
  df$citycode[grep("迪庆", df[[city_variable]], ignore.case = TRUE)] <- 533400
  df$citycode[grep("博尔塔拉", df[[city_variable]], ignore.case = TRUE)] <- 652700
  df$citycode[grep("克孜勒", df[[city_variable]], ignore.case = TRUE)] <- 653000
  df$citycode[grep("和田", df[[city_variable]], ignore.case = TRUE)] <- 653201
  df$citycode[grep("伊犁", df[[city_variable]], ignore.case = TRUE)] <- 654002
  df$citycode[grep("绥芬河", df[[city_variable]], ignore.case = TRUE)] <- 231081
  df$citycode[grep("湘西", df[[city_variable]], ignore.case = TRUE)] <- 433100
  df$citycode[grep("果洛", df[[city_variable]], ignore.case = TRUE)] <- 632600
  df$citycode[grep("海西", df[[city_variable]], ignore.case = TRUE)] <- 632800
  df$citycode[grep("四师", df[[city_variable]], ignore.case = TRUE)] <- 660400
  df$citycode[grep("九师", df[[city_variable]], ignore.case = TRUE)] <- 660900
  df$citycode[grep("永城", df[[city_variable]], ignore.case = TRUE)] <- 411400
  df$citycode[grep("潜江", df[[city_variable]], ignore.case = TRUE)] <- 429005
  df$citycode[grep("阿坝", df[[city_variable]], ignore.case = TRUE)] <- 513200
  df$citycode[grep("甘孜州", df[[city_variable]], ignore.case = TRUE)] <- 513300
  df$citycode[grep("博州", df[[city_variable]], ignore.case = TRUE)] <- 652700
  df$citycode[grep("抚远县", df[[city_variable]], ignore.case = TRUE)] <- 230833
  df$citycode[grep("平潭综合实", df[[city_variable]], ignore.case = TRUE)] <- 350128
  df$citycode[grep("贵安新区", df[[city_variable]], ignore.case = TRUE)] <- 550003
  df$citycode[grep("平潭综合实验区", df[[city_variable]], ignore.case = TRUE)] <- 350128
  df$citycode[grep("仙桃", df[[city_variable]], ignore.case = TRUE)] <- 429004
  df$citycode[grep("梅河口", df[[city_variable]], ignore.case = TRUE)] <- 220581
  df$citycode[grep("西咸新区", df[[city_variable]], ignore.case = TRUE)] <- 610100
  df$citycode[grep("天门", df[[city_variable]], ignore.case = TRUE)] <- 429006
  
  

  # 将更新后的数据框保存回原数据框
  assign(df_name, df, envir = .GlobalEnv)
  
  # 返回更新后的数据框
  return(df)
}

